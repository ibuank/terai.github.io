<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸­å­¦ç”Ÿå‘ã‘ ç†ç§‘ã¾ã¨ã‚ï½œåŒ–å­¦ãƒ»ç‰©ç†ãƒ»ç”Ÿç‰©</title>
  <meta name="description" content="ä¸­å­¦ç”Ÿå‘ã‘ã®ç„¡æ–™å­¦ç¿’ã¾ã¨ã‚ã‚µã‚¤ãƒˆã€‚å›½èªãƒ»æ•°å­¦ãƒ»è‹±èªãƒ»ç†ç§‘ãƒ»ç¤¾ä¼šã®è§£èª¬ã¨ã‚¯ã‚¤ã‚ºã§æ¥½ã—ãå‹‰å¼·ã§ãã¾ã™ã€‚">
  <link rel="stylesheet" href="style.css">
</head>
<body class="science">

<header>
  <h1>ç†ç§‘ã¾ã¨ã‚</h1>
  <button class="dark-toggle" onclick="toggleDark()">ğŸŒ™</button>
</header>

<main class="content">
<div class="mode-switch">
  <button onclick="showStudy()">ğŸ“– è§£èª¬</button>
  <button onclick="showQuiz()">ğŸ“ ã‚¯ã‚¤ã‚º</button>
</div>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="ğŸ” ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢">
</div>

<section class="box study">
  <h2>æ¤ç‰©ã®ã¤ãã‚Š</h2>

  <h3>â‘  ã“ã‚Œã ã‘è¦šãˆã‚Œã°OK</h3>
  <p>æ ¹ãƒ»èŒãƒ»è‘‰ãƒ»èŠ±ãƒ»å®Ÿ</p>

  <h3>â‘¡ è¶…ã‹ã‚“ãŸã‚“èª¬æ˜</h3>
  <ul>
    <li>æ ¹ â†’ æ°´ã‚„é¤Šåˆ†ã‚’å¸ã†</li>
    <li>èŒ â†’ æ°´ã‚„é¤Šåˆ†ã‚’é‹ã¶</li>
    <li>è‘‰ â†’ å…‰åˆæˆã‚’ã™ã‚‹</li>
    <li>èŠ± â†’ å®Ÿã‚’ã¤ãã‚‹ã‚‚ã¨</li>
  </ul>

  <h3>â‘¢ ã‚ˆãã‚ã‚‹ãƒŸã‚¹</h3>
  <ul>
    <li>æ ¹ã¨èŒã®å½¹å‰²ã‚’æ··åŒ</li>
  </ul>

  <h3>â‘£ ã‚³ãƒ„</h3>
  <p>ã€Œå¸ã† â†’ é‹ã¶ â†’ ä½œã‚‹ã€ã§æµã‚Œã‚’è¦šãˆã‚‹</p>
</section>

<section class="box study">
  <h2>ç‰©è³ªã®å¤‰åŒ–ï¼ˆçŠ¶æ…‹å¤‰åŒ–ï¼‰</h2>

  <h3>â‘  ã“ã‚Œã ã‘è¦šãˆã‚Œã°OK</h3>
  <p>å›ºä½“ â‡” æ¶²ä½“ â‡” æ°—ä½“</p>

  <h3>â‘¡ è¶…ã‹ã‚“ãŸã‚“èª¬æ˜</h3>
  <p>æ¸©åº¦ãŒå¤‰ã‚ã‚‹ã¨å½¢ãŒå¤‰ã‚ã‚‹</p>

  <h3>â‘¢ ã‚ˆãã‚ã‚‹ãƒŸã‚¹</h3>
  <ul>
    <li>èè§£ãƒ»å‡å›ºãƒ»è’¸ç™ºãƒ»å‡ç¸®ã®æ··åŒ</li>
  </ul>

  <h3>â‘£ ã‚³ãƒ„</h3>
  <ul>
    <li>æ°· â†’ æ°´ â†’ æ°´è’¸æ°— ã§è€ƒãˆã‚‹</li>
  </ul>
</section>

<section class="box quiz">
  <h2>ğŸ“ ç¢ºèªã‚¯ã‚¤ã‚º</h2>
  <div id="quizArea"></div>
   <p id="score"></p>
  <button class="reload" onclick="loadQuiz()">ğŸ”„ å•é¡Œã‚’å¤‰ãˆã‚‹</button>
</section>

<a href="index.html" class="back">â† ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>

</main>

<script>
// ===== æ¤œç´¢æ©Ÿèƒ½ =====
const searchInput = document.getElementById("searchInput");
const boxes = document.querySelectorAll(".study");

searchInput.addEventListener("input", () => {
  const keyword = searchInput.value.toLowerCase();

  boxes.forEach(box => {
    const text = box.innerText.toLowerCase();
    box.style.display = text.includes(keyword) ? "block" : "none";
  });
});

// ===== ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ =====
const quizData = [
  { q: "æ°´ã‚’å¸ã†ã¯ãŸã‚‰ããŒã‚ã‚‹ã®ã¯ï¼Ÿ", choices: ["æ ¹", "è‘‰", "èŠ±"], answer: 0 },
  { q: "å…‰åˆæˆã‚’ã™ã‚‹ã®ã¯ï¼Ÿ", choices: ["æ ¹", "èŒ", "è‘‰"], answer: 2 },
  { q: "æ°´ãŒæ°·ã«ãªã‚‹å¤‰åŒ–ã¯ï¼Ÿ", choices: ["è’¸ç™º", "å‡å›º", "èè§£"], answer: 1 },
  { q: "æ°·ãŒæ°´ã«ãªã‚‹å¤‰åŒ–ã¯ï¼Ÿ", choices: ["èè§£", "å‡å›º", "è’¸ç™º"], answer: 0 },
  { q: "æ°´ãŒæ°´è’¸æ°—ã«ãªã‚‹å¤‰åŒ–ã¯ï¼Ÿ", choices: ["å‡ç¸®", "è’¸ç™º", "å‡å›º"], answer: 1 },
  { q: "å®Ÿã‚’ã¤ãã‚‹ã‚‚ã¨ã«ãªã‚‹éƒ¨åˆ†ã¯ï¼Ÿ", choices: ["èŠ±", "è‘‰", "æ ¹"], answer: 0 },
  { q: "æ°´ã‚„é¤Šåˆ†ã‚’é‹ã¶ã®ã¯ï¼Ÿ", choices: ["æ ¹", "èŒ", "è‘‰"], answer: 1 },
  { q: "æ°—ä½“ã‹ã‚‰æ¶²ä½“ã«ãªã‚‹å¤‰åŒ–ã¯ï¼Ÿ", choices: ["è’¸ç™º", "å‡ç¸®", "èè§£"], answer: 1 }
];

let correctCount = 0;
let answeredCount = 0;

// ===== ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ =====
function showQuiz() {
  document.querySelectorAll(".study").forEach(el => el.style.display = "none");
  document.querySelector(".quiz").style.display = "block";
  loadQuiz();
}

function showStudy() {
  document.querySelectorAll(".study").forEach(el => el.style.display = "block");
  document.querySelector(".quiz").style.display = "none";
}

// ===== ã‚¯ã‚¤ã‚ºè¡¨ç¤º =====
function loadQuiz() {
  correctCount = 0;
  answeredCount = 0;
  document.getElementById("score").innerText = "";
  const area = document.getElementById("quizArea");
  area.innerHTML = "";

  const shuffled = quizData.sort(() => 0.5 - Math.random());
  const selected = shuffled.slice(0, 5);

  selected.forEach((item, i) => {
    let html = `<div class="q"><p><strong>Q${i+1}.</strong> ${item.q}</p>`;
    item.choices.forEach((c, index) => {
      html += `<button onclick="checkAnswer(this, ${index === item.answer})">${c}</button>`;
    });
    html += `</div>`;
    area.innerHTML += html;
  });
}

// ===== æ­£èª¤åˆ¤å®š =====
function checkAnswer(btn, isCorrect) {
  if (btn.classList.contains("done")) return;

  btn.classList.add("done");
  answeredCount++;

  if (isCorrect) {
    btn.style.background = "#8BC34A";
    btn.innerText = "æ­£è§£ï¼ğŸ‰";
    correctCount++;
  } else {
    btn.style.background = "#F44336";
    btn.innerText = "æ®‹å¿µğŸ’¦";
  }

  if (answeredCount === 5) {
    let rank = "";

    if (correctCount === 5) rank = "S ğŸ‰ å®Œç’§ï¼";
    else if (correctCount === 4) rank = "A ğŸ‘ ã™ã”ã„ï¼";
    else if (correctCount === 3) rank = "B ğŸ™‚ åˆæ ¼ï¼";
    else if (correctCount === 2) rank = "C ğŸ˜… ã‚‚ã†ä¸€æ¯ï¼";
    else rank = "D ğŸ’¦ ãŒã‚“ã°ã‚ã†ï¼";

    document.getElementById("score").innerHTML =
      `ğŸ¯ çµæœï¼š${correctCount} / 5 æ­£è§£ï¼<br>ãƒ©ãƒ³ã‚¯ï¼š${rank}`;
  }
}

// ===== ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ + ä¿å­˜ =====
function toggleDark() {
  document.body.classList.toggle("dark");

  if (document.body.classList.contains("dark")) {
    localStorage.setItem("darkMode", "on");
  } else {
    localStorage.setItem("darkMode", "off");
  }
}

// ===== ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰çŠ¶æ…‹ã‚’å¾©å…ƒ =====
if (localStorage.getItem("darkMode") === "on") {
  document.body.classList.add("dark");
}
</script>

</body>
</html>


