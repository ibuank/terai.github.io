<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸­å­¦ç”Ÿå‘ã‘ ç¤¾ä¼šã¾ã¨ã‚ï½œåœ°ç†ãƒ»æ­´å²ãƒ»å…¬æ°‘</title>
  <meta name="description" content="ä¸­å­¦ç”Ÿå‘ã‘ã®ç„¡æ–™å­¦ç¿’ã¾ã¨ã‚ã‚µã‚¤ãƒˆã€‚å›½èªãƒ»æ•°å­¦ãƒ»è‹±èªãƒ»ç†ç§‘ãƒ»ç¤¾ä¼šã®è§£èª¬ã¨ã‚¯ã‚¤ã‚ºã§æ¥½ã—ãå‹‰å¼·ã§ãã¾ã™ã€‚">
  <link rel="stylesheet" href="style.css">
</head>
<body class="social">

<header>
  <h1>ç¤¾ä¼šã¾ã¨ã‚</h1>
  <button class="dark-toggle" onclick="toggleDark()">ğŸŒ™</button>
</header>

<main class="content">
<div class="mode-switch">
  <button onclick="showStudy()">ğŸ“– è§£èª¬</button>
  <button onclick="showQuiz()">ğŸ“ ã‚¯ã‚¤ã‚º</button>
</div>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="ğŸ” ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢">
</div>

<section class="box study">
  <h2>æ—¥æœ¬ã®åœ°ç†</h2>

  <h3>â‘  ã“ã‚Œã ã‘è¦šãˆã‚Œã°OK</h3>
  <p>åŒ—æµ·é“ãƒ»æœ¬å·ãƒ»å››å›½ãƒ»ä¹å·</p>

  <h3>â‘¡ è¶…ã‹ã‚“ãŸã‚“èª¬æ˜</h3>
  <ul>
    <li>æ—¥æœ¬ã¯4ã¤ã®å¤§ããªå³¶ã‹ã‚‰ã§ãã¦ã„ã‚‹</li>
    <li>æœ¬å·ãŒã„ã¡ã°ã‚“å¤§ãã„</li>
  </ul>

  <h3>â‘¢ ã‚ˆãã‚ã‚‹ãƒŸã‚¹</h3>
  <ul>
    <li>å››å›½ã¨ä¹å·ã®ä½ç½®</li>
  </ul>

  <h3>â‘£ ã‚³ãƒ„</h3>
  <p>åœ°å›³ã‚’è¦‹ãªãŒã‚‰å£°ã«å‡ºã—ã¦è¦šãˆã‚‹</p>
</section>

<section class="box study">
  <h2>ä¸‰æ¨©åˆ†ç«‹</h2>

  <h3>â‘  ã“ã‚Œã ã‘è¦šãˆã‚Œã°OK</h3>
  <p>ç«‹æ³•ãƒ»è¡Œæ”¿ãƒ»å¸æ³•</p>

  <h3>â‘¡ è¶…ã‹ã‚“ãŸã‚“èª¬æ˜</h3>
  <ul>
    <li>ç«‹æ³• â†’ æ³•å¾‹ã‚’ä½œã‚‹ï¼ˆå›½ä¼šï¼‰</li>
    <li>è¡Œæ”¿ â†’ å®Ÿè¡Œã™ã‚‹ï¼ˆå†…é–£ï¼‰</li>
    <li>å¸æ³• â†’ åˆ¤æ–­ã™ã‚‹ï¼ˆè£åˆ¤æ‰€ï¼‰</li>
  </ul>

  <h3>â‘¢ ã‚ˆãã‚ã‚‹ãƒŸã‚¹</h3>
  <ul>
    <li>ä¸‰ã¤ã®å½¹å‰²ã‚’æ··åŒ</li>
  </ul>

  <h3>â‘£ ã‚³ãƒ„</h3>
  <p>ã€Œä½œã‚‹ â†’ è¡Œã† â†’ è£ãã€ã§æµã‚Œã‚’è¦šãˆã‚‹</p>
</section>

<section class="box study">
  <h2>æ™‚ä»£ã®æµã‚Œ</h2>

  <h3>â‘  ã“ã‚Œã ã‘è¦šãˆã‚Œã°OK</h3>
  <p>ç¸„æ–‡ â†’ å¼¥ç”Ÿ â†’ å¤å¢³ â†’ é£›é³¥ â†’ å¥ˆè‰¯ â†’ å¹³å®‰ â†’ éŒå€‰ â†’ å®¤ç”º â†’ å®‰åœŸæ¡ƒå±± â†’ æ±Ÿæˆ¸ â†’ æ˜æ²» â†’ å¤§æ­£ â†’ æ˜­å’Œ â†’ å¹³æˆ â†’ ä»¤å’Œ</p>

  <h3>â‘¡ è¶…ã‹ã‚“ãŸã‚“èª¬æ˜</h3>
  <p>æ—¥æœ¬ã®æ­´å²ã®æ™‚ä»£ã®é †ç•ª</p>

  <h3>â‘¢ ã‚ˆãã‚ã‚‹ãƒŸã‚¹</h3>
  <ul>
    <li>éŒå€‰ã¨å®¤ç”ºã®é †ç•ª</li>
  </ul>

  <h3>â‘£ ã‚³ãƒ„</h3>
  <p>ãƒªã‚ºãƒ ã§æš—è¨˜ã™ã‚‹</p>
</section>

<section class="box quiz">
  <h2>ğŸ“ ç¢ºèªã‚¯ã‚¤ã‚º</h2>
  <p id="score"></p>
  <div id="quizArea"></div>
  <button class="reload" onclick="loadQuiz()">ğŸ”„ å•é¡Œã‚’å¤‰ãˆã‚‹</button>
</section>

<a href="index.html" class="back">â† ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>

</main>

<script>
// ===== æ¤œç´¢æ©Ÿèƒ½ =====
const searchInput = document.getElementById("searchInput");
const boxes = document.querySelectorAll(".study");

searchInput.addEventListener("input", () => {
  const keyword = searchInput.value.toLowerCase();

  boxes.forEach(box => {
    const text = box.innerText.toLowerCase();
    box.style.display = text.includes(keyword) ? "block" : "none";
  });
});

// ===== ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ =====
const quizData = [
  { q: "æ—¥æœ¬ã§ä¸€ç•ªå¤§ãã„å³¶ã¯ï¼Ÿ", choices: ["åŒ—æµ·é“", "æœ¬å·", "ä¹å·"], answer: 1 },
  { q: "æ³•å¾‹ã‚’ä½œã‚‹ã®ã¯ï¼Ÿ", choices: ["å†…é–£", "è£åˆ¤æ‰€", "å›½ä¼š"], answer: 2 },
  { q: "è¡Œæ”¿ã‚’è¡Œã†ã®ã¯ï¼Ÿ", choices: ["å›½ä¼š", "å†…é–£", "è£åˆ¤æ‰€"], answer: 1 },
  { q: "è£åˆ¤ã‚’è¡Œã†ã®ã¯ï¼Ÿ", choices: ["è£åˆ¤æ‰€", "å›½ä¼š", "å†…é–£"], answer: 0 },
  { q: "å¼¥ç”Ÿæ™‚ä»£ã®æ¬¡ã¯ï¼Ÿ", choices: ["å¤å¢³", "é£›é³¥", "ç¸„æ–‡"], answer: 0 },
  { q: "æ±Ÿæˆ¸æ™‚ä»£ã®æ¬¡ã¯ï¼Ÿ", choices: ["æ˜æ²»", "å¤§æ­£", "æ˜­å’Œ"], answer: 0 },
  { q: "ä¸‰æ¨©åˆ†ç«‹ã®ä¸‰ã¤ã«å«ã¾ã‚Œãªã„ã®ã¯ï¼Ÿ", choices: ["ç«‹æ³•", "è¡Œæ”¿", "ç«‹æ†²"], answer: 2 },
  { q: "å››å›½ã®ä½ç½®ã¯ï¼Ÿ", choices: ["æœ¬å·ã®å—", "åŒ—æµ·é“ã®å—", "ä¹å·ã®å—"], answer: 0 }
];

let correctCount = 0;
let answeredCount = 0;

// ===== ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ =====
function showQuiz() {
  document.querySelectorAll(".study").forEach(el => el.style.display = "none");
  document.querySelector(".quiz").style.display = "block";
  loadQuiz();
}

function showStudy() {
  document.querySelectorAll(".study").forEach(el => el.style.display = "block");
  document.querySelector(".quiz").style.display = "none";
}

// ===== ã‚¯ã‚¤ã‚ºè¡¨ç¤º =====
function loadQuiz() {
  correctCount = 0;
  answeredCount = 0;
  document.getElementById("score").innerText = "";
  const area = document.getElementById("quizArea");
  area.innerHTML = "";

  const shuffled = quizData.sort(() => 0.5 - Math.random());
  const selected = shuffled.slice(0, 5);

  selected.forEach((item, i) => {
    let html = `<div class="q"><p><strong>Q${i+1}.</strong> ${item.q}</p>`;
    item.choices.forEach((c, index) => {
      html += `<button onclick="checkAnswer(this, ${index === item.answer})">${c}</button>`;
    });
    html += `</div>`;
    area.innerHTML += html;
  });
}

// ===== æ­£èª¤åˆ¤å®š =====
function checkAnswer(btn, isCorrect) {
  if (btn.classList.contains("done")) return;

  btn.classList.add("done");
  answeredCount++;

  if (isCorrect) {
    btn.style.background = "#8BC34A";
    btn.innerText = "æ­£è§£ï¼ğŸ‰";
    correctCount++;
  } else {
    btn.style.background = "#F44336";
    btn.innerText = "æ®‹å¿µğŸ’¦";
  }

  if (answeredCount === 5) {
    let rank = "";

    if (correctCount === 5) rank = "S ğŸ‰ å®Œç’§ï¼";
    else if (correctCount === 4) rank = "A ğŸ‘ ã™ã”ã„ï¼";
    else if (correctCount === 3) rank = "B ğŸ™‚ åˆæ ¼ï¼";
    else if (correctCount === 2) rank = "C ğŸ˜… ã‚‚ã†ä¸€æ¯ï¼";
    else rank = "D ğŸ’¦ ãŒã‚“ã°ã‚ã†ï¼";

    document.getElementById("score").innerHTML =
      `ğŸ¯ çµæœï¼š${correctCount} / 5 æ­£è§£ï¼<br>ãƒ©ãƒ³ã‚¯ï¼š${rank}`;
  }
}

// ===== ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ + ä¿å­˜ =====
function toggleDark() {
  document.body.classList.toggle("dark");

  if (document.body.classList.contains("dark")) {
    localStorage.setItem("darkMode", "on");
  } else {
    localStorage.setItem("darkMode", "off");
  }
}

// ===== ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰çŠ¶æ…‹ã‚’å¾©å…ƒ =====
if (localStorage.getItem("darkMode") === "on") {
  document.body.classList.add("dark");
}
</script>

</body>
</html>

